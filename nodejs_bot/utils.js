export function escapeHTML(text) {
    if (typeof text !== 'string') return '';
    return text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
}

const countryCodes = { 'AU': 'ÐÐ²ÑÑ‚Ñ€Ð°Ð»Ð¸Ñ ðŸ‡¦ðŸ‡º', 'AT': 'ÐÐ²ÑÑ‚Ñ€Ð¸Ñ ðŸ‡¦ðŸ‡¹', 'AZ': 'ÐÐ·ÐµÑ€Ð±Ð°Ð¹Ð´Ð¶Ð°Ð½ ðŸ‡¦ðŸ‡¿', 'AL': 'ÐÐ»Ð±Ð°Ð½Ð¸Ñ ðŸ‡¦ðŸ‡±', 'DZ': 'ÐÐ»Ð¶Ð¸Ñ€ ðŸ‡©ðŸ‡¿', 'AE': 'ÐžÐÐ­ ðŸ‡¦ðŸ‡ª', 'AR': 'ÐÑ€Ð³ÐµÐ½Ñ‚Ð¸Ð½Ð° ðŸ‡¦ðŸ‡·', 'AM': 'ÐÑ€Ð¼ÐµÐ½Ð¸Ñ ðŸ‡¦ðŸ‡²', 'BD': 'Ð‘Ð°Ð½Ð³Ð»Ð°Ð´ÐµÑˆ ðŸ‡§ðŸ‡©', 'BY': 'Ð‘ÐµÐ»Ð°Ñ€ÑƒÑÑŒ ðŸ‡§ðŸ‡¾', 'BE': 'Ð‘ÐµÐ»ÑŒÐ³Ð¸Ñ ðŸ‡§ðŸ‡ª', 'BG': 'Ð‘Ð¾Ð»Ð³Ð°Ñ€Ð¸Ñ ðŸ‡§ðŸ‡¬', 'BR': 'Ð‘Ñ€Ð°Ð·Ð¸Ð»Ð¸Ñ ðŸ‡§ðŸ‡·', 'GB': 'Ð’ÐµÐ»Ð¸ÐºÐ¾Ð±Ñ€Ð¸Ñ‚Ð°Ð½Ð¸Ñ ðŸ‡¬ðŸ‡§', 'HU': 'Ð’ÐµÐ½Ð³Ñ€Ð¸Ñ ðŸ‡­ðŸ‡º', 'VE': 'Ð’ÐµÐ½ÐµÑÑƒÑÐ»Ð° ðŸ‡»ðŸ‡ª', 'VN': 'Ð’ÑŒÐµÑ‚Ð½Ð°Ð¼ ðŸ‡»ðŸ‡³', 'DE': 'Ð“ÐµÑ€Ð¼Ð°Ð½Ð¸Ñ ðŸ‡©ðŸ‡ª', 'GR': 'Ð“Ñ€ÐµÑ†Ð¸Ñ ðŸ‡¬ðŸ‡·', 'GE': 'Ð“Ñ€ÑƒÐ·Ð¸Ñ ðŸ‡¬ðŸ‡ª', 'DK': 'Ð”Ð°Ð½Ð¸Ñ ðŸ‡©ðŸ‡°', 'EG': 'Ð•Ð³Ð¸Ð¿ÐµÑ‚ ðŸ‡ªðŸ‡¬', 'IL': 'Ð˜Ð·Ñ€Ð°Ð¸Ð»ÑŒ ðŸ‡®ðŸ‡±', 'IN': 'Ð˜Ð½Ð´Ð¸Ñ ðŸ‡®ðŸ‡³', 'ID': 'Ð˜Ð½Ð´Ð¾Ð½ÐµÐ·Ð¸Ñ ðŸ‡®ðŸ‡©', 'IQ': 'Ð˜Ñ€Ð°Ðº ðŸ‡®ðŸ‡¶', 'IR': 'Ð˜Ñ€Ð°Ð½ ðŸ‡®ðŸ‡·', 'IE': 'Ð˜Ñ€Ð»Ð°Ð½Ð´Ð¸Ñ ðŸ‡®ðŸ‡ª', 'ES': 'Ð˜ÑÐ¿Ð°Ð½Ð¸Ñ ðŸ‡ªðŸ‡¸', 'IT': 'Ð˜Ñ‚Ð°Ð»Ð¸Ñ ðŸ‡®ðŸ‡¹', 'KZ': 'ÐšÐ°Ð·Ð°Ñ…ÑÑ‚Ð°Ð½ ðŸ‡°ðŸ‡¿', 'KH': 'ÐšÐ°Ð¼Ð±Ð¾Ð´Ð¶Ð° ðŸ‡°ðŸ‡­', 'CA': 'ÐšÐ°Ð½Ð°Ð´Ð° ðŸ‡¨ðŸ‡¦', 'QA': 'ÐšÐ°Ñ‚Ð°Ñ€ ðŸ‡¶ðŸ‡¦', 'CY': 'ÐšÐ¸Ð¿Ñ€ ðŸ‡¨ðŸ‡¾', 'KG': 'ÐšÐ¸Ñ€Ð³Ð¸Ð·Ð¸Ñ ðŸ‡°ðŸ‡¬', 'CN': 'ÐšÐ¸Ñ‚Ð°Ð¹ ðŸ‡¨ðŸ‡³', 'CO': 'ÐšÐ¾Ð»ÑƒÐ¼Ð±Ð¸Ñ ðŸ‡¨ðŸ‡´', 'KW': 'ÐšÑƒÐ²ÐµÐ¹Ñ‚ ðŸ‡°ðŸ‡¼', 'LV': 'Ð›Ð°Ñ‚Ð²Ð¸Ñ ðŸ‡±ðŸ‡»', 'LB': 'Ð›Ð¸Ð²Ð°Ð½ ðŸ‡±ðŸ‡§', 'LT': 'Ð›Ð¸Ñ‚Ð²Ð° ðŸ‡±ðŸ‡¹', 'MY': 'ÐœÐ°Ð»Ð°Ð¹Ð·Ð¸Ñ ðŸ‡²ðŸ‡¾', 'MA': 'ÐœÐ°Ñ€Ð¾ÐºÐºÐ¾ ðŸ‡²ðŸ‡¦', 'MX': 'ÐœÐµÐºÑÐ¸ÐºÐ° ðŸ‡²ðŸ‡½', 'MD': 'ÐœÐ¾Ð»Ð´Ð¾Ð²Ð° ðŸ‡²ðŸ‡©', 'MN': 'ÐœÐ¾Ð½Ð³Ð¾Ð»Ð¸Ñ ðŸ‡²ðŸ‡³', 'MM': 'ÐœÑŒÑÐ½Ð¼Ð° ðŸ‡²ðŸ‡²', 'NP': 'ÐÐµÐ¿Ð°Ð» ðŸ‡³ðŸ‡µ', 'NL': 'ÐÐ¸Ð´ÐµÑ€Ð»Ð°Ð½Ð´Ñ‹ ðŸ‡³ðŸ‡±', 'NZ': 'ÐÐ¾Ð²Ð°Ñ Ð—ÐµÐ»Ð°Ð½Ð´Ð¸Ñ ðŸ‡³ðŸ‡¿', 'NO': 'ÐÐ¾Ñ€Ð²ÐµÐ³Ð¸Ñ ðŸ‡³ðŸ‡´', 'OM': 'ÐžÐ¼Ð°Ð½ ðŸ‡´ðŸ‡²', 'PK': 'ÐŸÐ°ÐºÐ¸ÑÑ‚Ð°Ð½ ðŸ‡µðŸ‡°', 'PE': 'ÐŸÐµÑ€Ñƒ ðŸ‡µðŸ‡ª', 'PL': 'ÐŸÐ¾Ð»ÑŒÑˆÐ° ðŸ‡µðŸ‡±', 'PT': 'ÐŸÐ¾Ñ€Ñ‚ÑƒÐ³Ð°Ð»Ð¸Ñ ðŸ‡µðŸ‡¹', 'PR': 'ÐŸÑƒÑÑ€Ñ‚Ð¾-Ð Ð¸ÐºÐ¾ ðŸ‡µðŸ‡·', 'KR': 'Ð®Ð¶Ð½Ð°Ñ ÐšÐ¾Ñ€ÐµÑ ðŸ‡°ðŸ‡·', 'RU': 'Ð Ð¾ÑÑÐ¸Ñ ðŸ‡·ðŸ‡º', 'RO': 'Ð ÑƒÐ¼Ñ‹Ð½Ð¸Ñ ðŸ‡·ðŸ‡´', 'SA': 'Ð¡Ð°ÑƒÐ´Ð¾Ð²ÑÐºÐ°Ñ ÐÑ€Ð°Ð²Ð¸Ñ ðŸ‡¸ðŸ‡¦', 'RS': 'Ð¡ÐµÑ€Ð±Ð¸Ñ ðŸ‡·ðŸ‡¸', 'SG': 'Ð¡Ð¸Ð½Ð³Ð°Ð¿ÑƒÑ€ ðŸ‡¸ðŸ‡¬', 'SK': 'Ð¡Ð»Ð¾Ð²Ð°ÐºÐ¸Ñ ðŸ‡¸ðŸ‡°', 'SI': 'Ð¡Ð»Ð¾Ð²ÐµÐ½Ð¸Ñ ðŸ‡¸ðŸ‡®', 'US': 'Ð¡Ð¨Ð ðŸ‡ºðŸ‡¸', 'TH': 'Ð¢Ð°Ð¸Ð»Ð°Ð½Ð´ ðŸ‡¹ðŸ‡­', 'TW': 'Ð¢Ð°Ð¹Ð²Ð°Ð½ÑŒ ðŸ‡¹ðŸ‡¼', 'TR': 'Ð¢ÑƒÑ€Ñ†Ð¸Ñ ðŸ‡¹ðŸ‡·', 'UZ': 'Ð£Ð·Ð±ÐµÐºÐ¸ÑÑ‚Ð°Ð½ ðŸ‡ºðŸ‡¿', 'UA': 'Ð£ÐºÑ€Ð°Ð¸Ð½Ð° ðŸ‡ºðŸ‡¦', 'UY': 'Ð£Ñ€ÑƒÐ³Ð²Ð°Ð¹ ðŸ‡ºðŸ‡¾', 'PH': 'Ð¤Ð¸Ð»Ð¸Ð¿Ð¿Ð¸Ð½Ñ‹ ðŸ‡µðŸ‡­', 'FI': 'Ð¤Ð¸Ð½Ð»ÑÐ½Ð´Ð¸Ñ ðŸ‡«ðŸ‡®', 'FR': 'Ð¤Ñ€Ð°Ð½Ñ†Ð¸Ñ ðŸ‡«ðŸ‡·', 'HR': 'Ð¥Ð¾Ñ€Ð²Ð°Ñ‚Ð¸Ñ ðŸ‡­ðŸ‡·', 'CZ': 'Ð§ÐµÑ…Ð¸Ñ ðŸ‡¨ðŸ‡¿', 'CL': 'Ð§Ð¸Ð»Ð¸ ðŸ‡¨ðŸ‡±', 'CH': 'Ð¨Ð²ÐµÐ¹Ñ†Ð°Ñ€Ð¸Ñ ðŸ‡¨ðŸ‡­', 'SE': 'Ð¨Ð²ÐµÑ†Ð¸Ñ ðŸ‡¸ðŸ‡ª', 'LK': 'Ð¨Ñ€Ð¸-Ð›Ð°Ð½ÐºÐ° ðŸ‡±ðŸ‡°', 'EC': 'Ð­ÐºÐ²Ð°Ð´Ð¾Ñ€ ðŸ‡ªðŸ‡¨', 'EE': 'Ð­ÑÑ‚Ð¾Ð½Ð¸Ñ ðŸ‡ªðŸ‡ª', 'ZA': 'Ð®ÐÐ  ðŸ‡¿ðŸ‡¦', 'JP': 'Ð¯Ð¿Ð¾Ð½Ð¸Ñ ðŸ‡¯ðŸ‡µ'};

export function getCountryName(code) {
    if (!code) return 'ÐÐµ ÑƒÐºÐ°Ð·Ð°Ð½';
    return countryCodes[code.toUpperCase()] || code.toUpperCase();
}

export function formatNumber(num) {
    if (typeof num !== 'number') return 0;
    return num.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,');
}

export const formatTimestamp = (unixTime) => {
    const d = new Date(unixTime * 1000);
    return `${String(d.getDate()).padStart(2, '0')}.${String(d.getMonth() + 1).padStart(2, '0')}.${d.getFullYear()} ${String(d.getHours()).padStart(2, '0')}:${String(d.getMinutes()).padStart(2, '0')}:${String(d.getSeconds()).padStart(2, '0')}`;
};